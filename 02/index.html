<html>

<head>
  <title>CS460.org Assignment 2</title>
  <script type="text/javascript" src="https://get.goXTK.com/xtk_edge.js"></script>
  <script type="text/javascript" src="loader.js"></script>
  <style>
    body {
      background-color: #000;
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden !important;
    }
  </style>
  <script>

    let spin = false;
    CAMERAS = [];
    
    window.onload = function () {

      CUBE_SIDE_LENGTH = 20;
      GAP = 2;

      r = new X.renderer3D();
      r.init();


      c = new X.cube();
      c.color = [1, 1, 1]; // r g b
      c.center = [0, 0, 0]; // x y z

      r.add(c);

      r.render();

      r.onRender = function() {
        // spin the camera in X direction by 1 degree if spin is true
        if (spin == true) {
          r.camera.rotate([2, 0]);
        }
      }
    };

    window.onkeypress = function (e) {

      if (e.code == 'KeyA') {
        console.log('A was pressed');
        c.transform.translateX(CUBE_SIDE_LENGTH + GAP);

      } else if (e.code == 'KeyD') {
        console.log('D was pressed');
        c.transform.translateX(-CUBE_SIDE_LENGTH - GAP);

      } else if (e.code == 'KeyQ') {
        console.log('Q was pressed');
        c.transform.translateY(CUBE_SIDE_LENGTH + GAP);

      } else if (e.code == 'KeyE') {
        console.log('E was pressed');
        c.transform.translateY(-CUBE_SIDE_LENGTH - GAP);

      } else if (e.code == 'KeyW') {
        console.log('W was pressed');
        c.transform.translateZ(CUBE_SIDE_LENGTH + GAP);

      } else if (e.code == 'KeyS') {
        console.log('S was pressed');
        c.transform.translateZ(-CUBE_SIDE_LENGTH - GAP);

      } else if (e.code == 'Digit1') { // white
        console.log('1 was pressed');
        c.color = [1, 1, 1];
      
      } else if (e.code == 'Digit2') { // red
        console.log('2 was pressed');
        c.color = [1, .2, .2];
      
      }  else if (e.code == 'Digit3') { // green
        console.log('3 was pressed');
        c.color = [.2, 1, .2];
      
      }  else if (e.code == 'Digit4') { // blue
        console.log('4 was pressed');
        c.color = [.2, .2, 1];
      
      }  else if (e.code == 'Digit5') { // yellow
        console.log('5 was pressed');
        c.color = [1, 1, .2];
      
      }  else if (e.code == 'Digit6') { // pink
        console.log('6 was pressed');
        c.color = [1, .41, .7];
      
      }  else if (e.code == 'Digit7') { // cyan
        console.log('7 was pressed');
        c.color = [.2, 1, 1];
      
      }  else if (e.code == 'Digit0') { // black
        console.log('0 was pressed');
        c.color = [.01, .01, .01];
      
      } else if (e.code == 'Space') { // new cube
        new_cube = new X.cube();
        new_cube.color = c.color;
        new_cube.transform.matrix = new Float32Array(c.transform.matrix);
        new_cube.lengthX = new_cube.lengthY = new_cube.lengthZ = CUBE_SIDE_LENGTH;
        
        r.add(new_cube);
      
      } else if (e.code == 'KeyO') {
        console.log('O was pressed');
        download();
      
      } else if (e.code == 'KeyL') {
        console.log('L was pressed');
        upload("scene.json");
      
      } else if (e.code == 'KeyB') {
        console.log('B was pressed');
        if (spin == true) {
          spin = false;
        } else if (spin == false) {
          spin = true;
        }
      
      } else if (e.code == 'KeyC') {
        console.log('C was pressed');
        cameras.push(r.camera.view);
      
      } else if (e.code == 'KeyV') {
        console.log('V was pressed');
        
      
      } 

    }

  </script>
</head>

<body>
</body>

</html>