<html>
  <head>
    <script type="text/javascript" src="https://get.goXTK.com/xtk_edge.js"></script>
    <script type="text/javascript" src="loader.js"></script>

    <title>CS460.org Assignment 2</title>

    <style>
      body {
        background-color:#7e90f2;
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden !important; 
      }
    </style>

    <script>

        window.onload = function() {

          // create cube

          r = new X.renderer3D();7
          r.init();

          c = new X.cube();
          c.center= [0, 0, 0];
          CUBE_SIDELENGTH = 10;0
          GAP = 0;

          // add cube to scene
          r.add(c)
          isCameraSpinning = false;

          // render scene
          r.render();

        };

        window.onkeypress = function(e) {

          if (e.code == 'KeyD') {
            console.log('D was pressed')
            c.transform.translateX(-CUBE_SIDELENGTH + GAP);
          } else if (e.code == "KeyA") {
            c.transform.translateX(CUBE_SIDELENGTH - GAP);
          } else if (e.code == 'KeyW') {
            c.transform.translateY(CUBE_SIDELENGTH - GAP);
          } else if (e.code == 'KeyS') {
            c.transform.translateY(-CUBE_SIDELENGTH + GAP);
          } else if (e.code == 'KeyQ') {
            c.transform.translateZ(-CUBE_SIDELENGTH + GAP);
          } else if (e.code == 'KeyE') {
            c.transform.translateZ(CUBE_SIDELENGTH - GAP);
          }

          switch (e.code) {
            case 'Digit1':
              c.color = [1, 0, 0];  // Red
              break;
            case 'Digit2':
              c.color = [0, 1, 0];  // Green
              break;
            case 'Digit3':
              c.color = [0, 0, 1];  // Blue
              break;
            case 'Digit4':
              c.color = [1, 1, 0];  // Yellow
              break;
            case 'Digit5':
              c.color = [1, 0, 1];  // Magenta
              break;
            case 'Digit6':
              c.color = [0, 1, 1];  // Cyan
              break;
            case 'Digit7':
              c.color = [0.5, 0.5, 0.5];  // Gray
              break;
            case 'Digit0':
              c.color = [0, 0, 0];  // Black
              break;
      }

      if (e.code === 'Space') {
        var new_cube = new X.cube();
        new_cube.color = c.color;  
        new_cube.transform.matrix = new Float32Array(c.transform.matrix);  
        new_cube.lengthX = new_cube.lengthY = new_cube.lengthZ = CUBE_SIDELENGTH; 

        r.add(new_cube);  
    }
        if (e.code == 'KeyO') {
          console.log('O button')
          download();  
        } 
        else if (e.code =='KeyL') {
          upload('scene.json');  
        }
        if (e.code == 'KeyB') {
          isCameraSpinning = !isCameraSpinning;
        }

        r.onRender = function() {
          if (isCameraSpinning) {
            r.camera.rotate([1,0]);
          }
        }

      };
    </script>

  </head>
  <body>
  </body>
</html>
